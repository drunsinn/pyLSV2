#Note: Run this file only once before using the library for the first time. 

import logging
import pyLSV2

logging.basicConfig(level=logging.INFO)

with pyLSV2.LSV2("192.168.56.103", port=19000, timeout=5, safe_mode=False) as con:
    availible_signals = con.tst_read_scope_channels()
    # 
    with open("../pyLSV2/const.py",mode="a") as append_channel_signal:
        append_channel_signal.write("\nclass channel_signal:\n")
        for i, signal in enumerate(availible_signals):

            signal_channel_name = str(signal.channel_name).replace(" ", "_")
            signal_channel_name = signal_channel_name.replace(".", "_")
            signal_channel_name = signal_channel_name.replace(":", "_")
            signal_channel_name = signal_channel_name.replace("(", "_")
            signal_channel_name = signal_channel_name.replace(")", "_")
            signal_channel_name = signal_channel_name.replace("-", "_")

            append_channel_signal.write( "\t{}_{:s}".format(signal_channel_name, signal.signal_name))
            append_channel_signal.write(" = {} ".format(i))
            append_channel_signal.write("\n")
